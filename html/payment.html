<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Paiement s√©curis√©">
    <title>AmiGo - Paiement</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <h1>AmiGo</h1>
        <div>
            <select class="language-selector" aria-label="Changer la langue">
                <option value="fr">Fran√ßais</option>
                <option value="en">English</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="../index.html">Accueil</a></li>
            <li><a href="events-list.html">√âv√©nements</a></li>
            <li><a href="profile.html">Mon Profil</a></li>
            <li><a href="login.html">Connexion</a></li>
        </ul>
    </nav>

    <main>
        <div class="container">
            <h2>Paiement s√©curis√© üîí</h2>

            <!-- R√©capitulatif de la commande -->
            <section class="card">
                <div class="card-header">R√©capitulatif de la commande</div>
                <div class="card-content">
                    <!-- TODO: Charger les d√©tails de l'√©v√©nement depuis MySQL -->
                    <p><strong>√âv√©nement :</strong> Concert Rock en plein air</p>
                    <p><strong>Date :</strong> 25 novembre 2025 - 20h00</p>
                    <p><strong>Lieu :</strong> Paris, France</p>
                    <p><strong>Prix :</strong> 25,00 ‚Ç¨</p>
                    <p><strong>TVA (20%) :</strong> 5,00 ‚Ç¨</p>
                    <hr style="margin: 1rem 0;">
                    <p><strong style="font-size: 1.2rem;">Total :</strong> <strong style="font-size: 1.2rem; color: #007bff;">30,00 ‚Ç¨</strong></p>
                </div>
            </section>

            <!-- M√©thodes de paiement -->
            <section>
                <h3>Choisir un mode de paiement</h3>
                
                <!-- TODO: Int√©grer une vraie API de paiement (Stripe, PayPal, etc.) avec PHP -->
                <form action="#" method="post">
                    <div class="form-group">
                        <label>Mode de paiement</label>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 0.5rem;">
                            <div class="checkbox-group">
                                <input type="radio" id="payment-card" name="payment_method" value="card" checked>
                                <label for="payment-card">üí≥ Carte bancaire</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="radio" id="payment-paypal" name="payment_method" value="paypal">
                                <label for="payment-paypal">PayPal</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="radio" id="payment-apple" name="payment_method" value="apple">
                                <label for="payment-apple">Apple Pay</label>
                            </div>
                        </div>
                    </div>

                    <!-- Formulaire de carte bancaire -->
                    <div id="card-payment-form">
                        <div class="form-group">
                            <label for="card-number">Num√©ro de carte *</label>
                            <input type="text" id="card-number" name="card_number" placeholder="1234 5678 9012 3456" required aria-required="true" pattern="[0-9\s]{13,19}" maxlength="19">
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div class="form-group">
                                <label for="expiry-date">Date d'expiration *</label>
                                <input type="text" id="expiry-date" name="expiry_date" placeholder="MM/AA" required aria-required="true" pattern="(0[1-9]|1[0-2])\/[0-9]{2}" maxlength="5">
                            </div>

                            <div class="form-group">
                                <label for="cvv">Cryptogramme (CVV) *</label>
                                <input type="text" id="cvv" name="cvv" placeholder="123" required aria-required="true" pattern="[0-9]{3,4}" maxlength="4">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="card-holder">Nom du titulaire *</label>
                            <input type="text" id="card-holder" name="card_holder" required aria-required="true">
                        </div>
                    </div>

                    <!-- Acceptation des CGU -->
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="accept-cgu" name="accept_cgu" required aria-required="true">
                        <label for="accept-cgu">
                            J'accepte les <a href="cgu.html" target="_blank">Conditions G√©n√©rales d'Utilisation</a> et les <a href="cgu.html" target="_blank">Conditions G√©n√©rales de Vente</a> *
                        </label>
                    </div>

                    <!-- Boutons d'action -->
                    <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                        <button type="submit" class="btn btn-success">Payer maintenant (30,00 ‚Ç¨)</button>
                        <a href="event-details.html" class="btn btn-secondary">Annuler</a>
                    </div>
                </form>
            </section>

            <!-- TODO: Traiter le paiement avec PHP -->
            <!-- TODO: Si paiement r√©ussi, rediriger vers payment-success.html -->
            <!-- TODO: Si paiement √©chou√©, rediriger vers payment-error.html -->
            <!-- TODO: Envoyer un email de confirmation avec le re√ßu -->
            <!-- TODO: Enregistrer la transaction dans MySQL -->
            <!-- TODO: Ajouter l'utilisateur √† la liste des participants de l'√©v√©nement -->

            <!-- Informations de s√©curit√© -->
            <section style="margin-top: 2rem; padding: 1rem; background: #e9f7ef; border-left: 4px solid #28a745; border-radius: 5px;">
                <p>üîí <strong>Paiement s√©curis√©</strong> - Vos informations bancaires sont prot√©g√©es et crypt√©es.</p>
            </section>
        </div>
    </main>

    <footer>
        <ul class="footer-links">
            <li><a href="contact.html">Contact</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="cgu.html">CGU</a></li>
            <li><a href="mentions-legales.html">Mentions l√©gales</a></li>
        </ul>
        <p>&copy; 2025 AmiGo - Tous droits r√©serv√©s</p>
    </footer>
</body>
</html>
